<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>clustRviz Quick Start â€¢ clustRviz</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="clustRviz Quick Start">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clustRviz</a>
        <span class="version label label-info" data-toggle="tooltip" data-placement="bottom" title="clustRviz is not yet on CRAN">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Acknowledgements.html">Acknowledgements</a>
    </li>
    <li>
      <a href="../articles/ClustRVizAlgorithm.html">`clustRviz` Computational Details</a>
    </li>
    <li>
      <a href="../articles/ClustRVizDetails.html">clustRviz Details</a>
    </li>
    <li>
      <a href="../articles/ClustRVizWeights.html">Weight Selection for Convex Clustering and BiClustering</a>
    </li>
    <li>
      <a href="../articles/QuickStart.html">clustRviz Quick Start</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DataSlingers/clustRviz">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>clustRviz Quick Start</h1>
                        <h4 class="author">John Nagorski</h4>
            
            <h4 class="date">2019-01-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/DataSlingers/clustRviz/blob/master/vignettes/QuickStart.Rmd"><code>vignettes/QuickStart.Rmd</code></a></small>
      <div class="hidden name"><code>QuickStart.Rmd</code></div>

    </div>

    
    

<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This vignette provides a quick usage guide to the <code>clustRviz</code> package, including fitting and visualization. In the sections below we work through a simple example dataset, illustrating both clustering and biclustering in <code>clustRviz</code>. While many details and customizations are discussed in the <a href="clustRvizDetails.html">clustRviz Details Vignette</a>, for now we show how to quickly fit, visualize, and save in <code>clustRviz</code>.</p>
</div>
<div id="a-clustering-example" class="section level1">
<h1 class="hasAnchor">
<a href="#a-clustering-example" class="anchor"></a>A Clustering Example</h1>
<p><code>clustRviz</code> may be used for clustering together observations based on similarities among their features. <code>clustRviz</code> accomplishes this by solving the Convex Clustering problem quickly using the technique of Algorithmic Regularization. The resulting algorithm, Convex Clustering via Algorithmic Regularization Paths (or CARP) provides a continuous path of clustering solutions which may be visualized and interactively explored.</p>
<p>For our first example we use the <code>petrol</code> data set from the <code>MASS</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># optionally install MASS package</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co"># install.package('MASS')</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">'petrol'</span>,<span class="dt">package=</span><span class="st">'MASS'</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(petrol)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt;   No   SG  VP V10  EP    Y</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; 1  A 50.8 8.6 190 205 12.2</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; 2  A 50.8 8.6 190 275 22.3</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; 3  A 50.8 8.6 190 345 34.7</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; 4  A 50.8 8.6 190 407 45.7</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; 5  B 40.8 3.5 210 218  8.0</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt; 6  B 40.8 3.5 210 273 13.1</span></a></code></pre></div>
<p>The dataset contains the yield (<code>Y</code>) of a petroleum refining process and with measurements for specific gravity (<code>SG</code>), vapour pressure (<code>VP</code>), crude volatility (<code>V10</code>), desired gasoline volatility (<code>EP</code>), as well as sample identification labels (<code>No</code>); see <code>?petrol</code>for details.</p>
<p>Before clustering our data, we extract the columns of interest (here <code>SG</code>, <code>VP</code>, <code>V10</code>, and <code>EP</code>), and create the input matrix:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># create numeric input matrix</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">Xdat &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">as.matrix</a></span>(petrol[,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'SG'</span>,<span class="st">'VP'</span>,<span class="st">'V10'</span>,<span class="st">'EP'</span>)])</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(Xdat)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;     SG  VP V10  EP</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; 1 50.8 8.6 190 205</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; 2 50.8 8.6 190 275</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; 3 50.8 8.6 190 345</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; 4 50.8 8.6 190 407</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; 5 40.8 3.5 210 218</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; 6 40.8 3.5 210 273</span></a></code></pre></div>
<div id="fitting-with-carp" class="section level3">
<h3 class="hasAnchor">
<a href="#fitting-with-carp" class="anchor"></a>Fitting with CARP</h3>
<p>Clustering is done via a simple call to the <code>CARP</code> function below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(clustRviz)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">carp.fit &lt;-<span class="st"> </span><span class="kw"><a href="../reference/CARP.html">CARP</a></span>(Xdat, <span class="dt">labels =</span> petrol<span class="op">$</span>No, <span class="dt">X.scale =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Here we specify the sample number (<code>No</code>) as the labels for our observations. This is done by providing the <code>labels</code>. If no <code>labels</code> were provided, <code>CARP</code> would attempt to use the rownames of the data matrix, and if no rownames were found, would automatically generate names. Additionally, since our variables are measured on different scales, we set the <code>X.scale</code> option to <code>TRUE</code> as well; see <code>?carp</code> for additional fitting options as well as examples in the <a href="clustRvizDetails.html">clustRviz Details Vignette</a></p>
<p>Once fitted, a brief description of the fit and parameter choices may be shown:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">carp.fit</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; CARP Fit Summary</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; ====================</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; Algorithm: CARP (t = 1.05) </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; Fit Time: 0.007 secs </span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; Total Time: 0.218 secs </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; Number of Observations: 32 </span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; Number of Variables:    4 </span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; Pre-processing options:</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  - Columnwise centering: TRUE </span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  - Columnwise scaling:   TRUE </span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; Weights:</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt;  - Source: Radial Basis Function Kernel Weights</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt;  - Distance Metric: Euclidean</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt;  - Scale parameter (phi): 0.1 [Data-Driven]</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt;  - Sparsified: 3 Nearest Neighbors [Data-Driven]</span></a></code></pre></div>
<p>Visualizing the solution path is readily done via the <code>plot</code> function. A traditional dendrogram is displayed by default:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(carp.fit)</a></code></pre></div>
<p><img src="QuickStart_files/figure-html/unnamed-chunk-4-1.png" width="480" style="display: block; margin: auto;"></p>
<p>A more detailed visualization of the solution path can be obtained by plotting the principal components of the cluster means:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(carp.fit,<span class="dt">type =</span> <span class="st">'path'</span>,<span class="dt">percent =</span> <span class="fl">.10</span>)</a></code></pre></div>
<p><img src="QuickStart_files/figure-html/unnamed-chunk-5-1.png" width="480" style="display: block; margin: auto;"></p>
<p>The plot above displays the first two principal components of the data, with black points representing the original data, and red curves illustrating movement along the solution path. As curves join together, observations are fused, and clusters formed. The <code>percent</code> argument tells <code>plot</code> to display a snapshot of the clustering solution path at <span class="math inline">\(10\%\)</span> of total regularization.</p>
<p>Both the dendrogram and the clustering solution path may be viewed together interactively via the use of <code>shiny</code> applications:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(carp.fit,<span class="dt">type =</span> <span class="st">'interactive'</span>)</a></code></pre></div>
<p>These interactive visualizations allow one to view the cluster solution path and dendrogram as the Algorithmic Regularization iterates vary.</p>
<p>In addition to visualizations, cluster solutions may be obtained via the <code>get_cluster_labels</code> and <code>get_cluster_centroids</code> functions:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Analyze the 3 cluster solution</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw"><a href="../reference/accessors_carp.html">get_cluster_labels</a></span>(carp.fit, <span class="dt">k =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt;         A       A_1       A_2       A_3         B       B_1       B_2 </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; cluster_1 cluster_1 cluster_1 cluster_1 cluster_2 cluster_2 cluster_2 </span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt;         C       C_1       C_2         D       D_1       D_2       D_3 </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt; cluster_2 cluster_2 cluster_2 cluster_2 cluster_2 cluster_2 cluster_2 </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;         E       E_1       E_2         F       F_1       F_2         G </span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; cluster_2 cluster_2 cluster_2 cluster_2 cluster_2 cluster_2 cluster_3 </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;       G_1       G_2       G_3         H       H_1       H_2         I </span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt; cluster_3 cluster_3 cluster_3 cluster_3 cluster_3 cluster_3 cluster_3 </span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;       I_1         J       J_1       J_2 </span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; cluster_3 cluster_3 cluster_3 cluster_3 </span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt; Levels: cluster_1 cluster_2 cluster_3</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="kw"><a href="../reference/accessors_carp.html">get_cluster_centroids</a></span>(carp.fit, <span class="dt">k =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt;            SG   VP      V10       EP</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; [1,] 50.80000 8.60 190.0000 308.0000</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; [2,] 38.34375 5.20 222.6250 316.8750</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; [3,] 36.60833 1.35 283.8333 360.4167</span></a></code></pre></div>
<p>In the code above, we specify the number of clusters and <code>clustering</code> returns the both the cluster assignment as well as the cluster means for the <span class="math inline">\(k=3\)</span> solution along the path. As an example, we display the yield (<code>Y</code>) distribution for each of the clusters:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">  <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x=</span>cl,<span class="dt">y=</span>yield),</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  <span class="dt">data=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">    <span class="dt">yield =</span> petrol<span class="op">$</span>Y,</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">    <span class="dt">cl=</span><span class="kw"><a href="../reference/accessors_carp.html">get_cluster_labels</a></span>(carp.fit, <span class="dt">k =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">  )</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span>()</a></code></pre></div>
<p><img src="QuickStart_files/figure-html/unnamed-chunk-8-1.png" width="480" style="display: block; margin: auto;"></p>
<p>After exploring visualizations and cluster solutions interactively, the visualization results can easily be exported via the <code>saveviz</code> function. For example, saving the cluster solution path plotted above may be done as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../reference/plot_carp.html">saveviz</a></span>(</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  <span class="dt">x=</span>carp.fit,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">  <span class="dt">file.name=</span><span class="st">"ClusterPathStatic.png"</span>,</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">  <span class="dt">plot.type=</span><span class="st">'path'</span>,</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">  <span class="dt">image.type =</span> <span class="st">'static'</span>,</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">  <span class="dt">percent=</span>.<span class="dv">10</span>)</a></code></pre></div>
<p>The above saves a static snapshot of the cluster solution path at <span class="math inline">\(10\%\)</span> regularization; the number of clusters <code>k</code> may also be specified instead of <code>percent</code>. Interactive visualization may be saved as <code>.gif</code> files by specifiying <code>image.type='dynamic'</code>; see <code><a href="../reference/plot_carp.html">?saveviz.CARP</a></code> for details.</p>
</div>
</div>
<div id="a-biclustering-example" class="section level1">
<h1 class="hasAnchor">
<a href="#a-biclustering-example" class="anchor"></a>A Biclustering Example</h1>
<p>Clustering may also be done simultaneously on both observations and variables. <code>clustRviz</code> obtains such biclustering solutions by approximating the Convex Biclustering solution path, again via Algorithmic Regularization. The <code>CBASS</code> function is used to obtain biclustering solutions, and its usage is similar to <code>CARP</code>.</p>
<p>We fit the biclustering solution path as follows:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">cbass.fit &lt;-<span class="st"> </span><span class="kw"><a href="../reference/CBASS.html">CBASS</a></span>(<span class="dt">X=</span>Xdat, <span class="dt">row_labels =</span> petrol<span class="op">$</span>No)</a></code></pre></div>
<p>Once fitted, vizualizations are displayed again via the <code>plot</code> function. For CBASS fits, the default visualization is again the cluster dendrogram of the observations induced by the CBASS solution path.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(cbass.fit)</a></code></pre></div>
<p><img src="QuickStart_files/figure-html/unnamed-chunk-11-1.png" width="480" style="display: block; margin: auto;"></p>
<p>Since both rows (observations) and columns (variables) are clustered simultaneously, a cluster dendrogram for the columns may also be plotted:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(cbass.fit, <span class="dt">type=</span><span class="st">'col.dendrogram'</span>)</a></code></pre></div>
<p>Additionally both dendrograms and the associated cluster heatmap can be viewed by passing the <code>heatmap</code> arguement.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(cbass.fit, <span class="dt">type=</span><span class="st">'heatmap'</span>)</a></code></pre></div>
<p><img src="QuickStart_files/figure-html/unnamed-chunk-13-1.png" width="960" style="display: block; margin: auto;"></p>
<p>As was the case of <code>CARP</code>, interactive visualizations may also be displayed:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(cbass.fit,<span class="dt">type=</span><span class="st">'interactive'</span>)</a></code></pre></div>
<p><code>CBASS</code>â€™s interactive visualizations allows one to view dynamic changes in the cluster heatmap and dendrogram solutions along the path.</p>
<p>As was the case with <code>CARP</code>, clustering solutions are obtained via the <code>get_cluster_labels</code> function. The desired clustering solution is specified by:</p>
<ul>
<li>the number of row clusters (<code>k.row</code>);</li>
<li>the number of col clusters (<code>k.col</code>); or</li>
<li>the percent of regularization (<code>percent</code>).</li>
</ul>
<p>In the example below we obtain the biclustering solution which obtains <span class="math inline">\(3\)</span> row clusters:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># How are the rows (observations) clustered at the 3 row cluster solution?</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/table">table</a></span>(<span class="kw"><a href="../reference/accessors_carp.html">get_cluster_labels</a></span>(cbass.fit, <span class="dt">k.row =</span> <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; cluster_1 cluster_2 cluster_3 </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt;        13        15         4</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co"># How are the columns (features) clustered at the 3 row cluster solution?</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/table">table</a></span>(<span class="kw"><a href="../reference/accessors_carp.html">get_cluster_labels</a></span>(cbass.fit, <span class="dt">k.row =</span> <span class="dv">3</span>, <span class="dt">type =</span> <span class="st">"col"</span>))</a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt; cluster_1 </span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt;         4</span></a></code></pre></div>
<p>We can also investigate the bi-clustered data matrix (with the raw data replaced by estimated centroids) with the <code>get_clustered_data</code> function:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="../reference/accessors_carp.html">get_clustered_data</a></span>(cbass.fit, <span class="dt">k.row =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt;           SG       VP      V10       EP</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; A   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; A_1 132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; A_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; A_3 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; B   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; B_1 132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; B_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; C   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; C_1 132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt; C_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; D   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; D_1 132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; D_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; D_3 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; E   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; E_1 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; E_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt; F   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; F_1 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; F_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; G   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="co">#&gt; G_1 132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; G_2 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"><span class="co">#&gt; G_3 187.6250 187.6250 187.6250 187.6250</span></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">#&gt; H   132.7808 132.7808 132.7808 132.7808</span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">#&gt; H_1 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="co">#&gt; H_2 187.6250 187.6250 187.6250 187.6250</span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="co">#&gt; I   163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="co">#&gt; I_1 187.6250 187.6250 187.6250 187.6250</span></a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="co">#&gt; J   163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-33" data-line-number="33"><span class="co">#&gt; J_1 163.9700 163.9700 163.9700 163.9700</span></a>
<a class="sourceLine" id="cb17-34" data-line-number="34"><span class="co">#&gt; J_2 187.6250 187.6250 187.6250 187.6250</span></a></code></pre></div>
<p>Finally we demonstrate how to save the visualizations produced by <code>CBASS</code>. Similar to <code>CARP</code> visualizations can be saved via the <code>saveviz</code> function which allows for saving static and dynamic visuals. For example, a <code>.gif</code> of the variable dendrogram as it varies throughout the path may be saved via:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="../reference/plot_carp.html">saveviz</a></span>(<span class="dt">x=</span>cbass.fit,</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">        <span class="dt">file.name =</span> <span class="st">'cbass_column_dendrogram_dynamic.gif'</span>,</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">        <span class="dt">plot.type =</span> <span class="st">'col.dendrogram'</span>,</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">        <span class="dt">image.type =</span> <span class="st">'dynamic'</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5">)</a></code></pre></div>
<p>Similarly, a static snapshot of the bicluster heatmap at the moment along the path when <span class="math inline">\(4\)</span> row clusters are formed may be saved also:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="../reference/plot_carp.html">saveviz</a></span>(<span class="dt">x=</span>cbass.fit,</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">        <span class="dt">file.name =</span> <span class="st">'cbass_heatmap_static.png'</span>,</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">        <span class="dt">plot.type =</span> <span class="st">'heatmap'</span>,</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">        <span class="dt">image.type =</span> <span class="st">'static'</span>,</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">        <span class="dt">k.row =</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6">)</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#a-clustering-example">A Clustering Example</a></li>
      <li><a href="#a-biclustering-example">A Biclustering Example</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael Weylandt, John Nagorski, Genevera Allen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
